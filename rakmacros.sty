\ProvidesPackage{rakmacros}[16.9.2020 v1.0 R. Koitermaa]
\RequirePackage{wrapfig}
\RequirePackage{caption}
\RequirePackage{subcaption}
\RequirePackage{amsmath}
\RequirePackage{amsfonts}
\RequirePackage{amssymb}
\RequirePackage{amsthm}
\RequirePackage{float}
\RequirePackage{comment}
\RequirePackage{braket}
\RequirePackage{bm}
\RequirePackage{multirow}
\RequirePackage{mathtools}
\RequirePackage[formats]{listings}

% CUSTOM COMMANDS
% util
% \newcommand{\chapter}[1]{\section*{#1}}
% \newcommand{\chapter}{\section}
\newcommand{\x}{\text}
\newcommand{\putrule}{\noindent\rule{\textwidth}{1pt}}
\newcommand{\dualfig}[4]{
  \noindent
  \begin{minipage}{.49\textwidth}   
    \begin{figure}[H]
      \centering
      \includegraphics[width=1.0\linewidth]{#1}
      \caption{#2}
    \end{figure}
  \end{minipage}
  \begin{minipage}{.49\textwidth}
    \begin{figure}[H]
      \centering
      \includegraphics[width=1.0\linewidth]{#3}
      \caption{#4}
    \end{figure}
  \end{minipage}
  \medskip
}
\newcommand{\dualfigs}[5]{ %% [b] or [t] to align
  \noindent
  \begin{minipage}{.49\textwidth}   
    \begin{figure}[H]
      \centering
      \includegraphics[width=#5\linewidth]{#1}
      \caption{#2}
    \end{figure}
  \end{minipage}
  \begin{minipage}{.49\textwidth}
    \begin{figure}[H]
      \centering
      \includegraphics[width=#5\linewidth]{#3}
      \caption{#4}
    \end{figure}
  \end{minipage}
  \medskip
}
\newcommand{\dualfigss}[6]{
  \noindent
  \begin{minipage}{.49\textwidth}
    \begin{figure}[H]
      \centering
      \includegraphics[width=#3\linewidth]{#1}
      \caption{#2}
    \end{figure}
  \end{minipage}
  \begin{minipage}{.49\textwidth}
    \begin{figure}[H]
      \centering
      \includegraphics[width=#6\linewidth]{#4}
      \caption{#5}
    \end{figure}
  \end{minipage}
  \medskip
}
\newcommand{\dualfigc}[5]{
  \noindent
  \begin{figure}[H]
    \centering
    \begin{subfigure}[H]{.49\textwidth}
      \centering
      \includegraphics[width=1.0\linewidth]{#1}
      \caption{#2}
    \end{subfigure}
    \begin{subfigure}[H]{.49\textwidth}
      \centering
      \includegraphics[width=1.0\linewidth]{#3}
      \caption{#4}
    \end{subfigure}
    \caption{#5}
  \end{figure}
}
\newcommand{\trifig}[6]{
  \noindent
  \begin{minipage}{.33\textwidth}   
    \begin{figure}[H]
      \centering
      \includegraphics[width=1.0\linewidth]{#1}
      \caption{#2}
    \end{figure}
  \end{minipage}
  \begin{minipage}{.33\textwidth}
    \begin{figure}[H]
      \centering
      \includegraphics[width=1.0\linewidth]{#3}
      \caption{#4}
    \end{figure}
  \end{minipage}
  \begin{minipage}{.33\textwidth}
    \begin{figure}[H]
      \centering
      \includegraphics[width=1.0\linewidth]{#5}
      \caption{#6}
    \end{figure}
  \end{minipage}
  \medskip
}
\newcommand{\trifigs}[7]{
  \noindent
  \begin{minipage}{#7\textwidth}
    \begin{figure}[H]
      \centering
      \includegraphics[width=1.0\linewidth]{#1}
      \caption{#2}
    \end{figure}
  \end{minipage}
  \begin{minipage}{#7\textwidth}
    \begin{figure}[H]
      \centering
      \includegraphics[width=1.0\linewidth]{#3}
      \caption{#4}
    \end{figure}
  \end{minipage}
  \begin{minipage}{#7\textwidth}
    \begin{figure}[H]
      \centering
      \includegraphics[width=1.0\linewidth]{#5}
      \caption{#6}
    \end{figure}
  \end{minipage}
  \medskip
}
\newcommand{\trifigc}[7]{
  \noindent
  \begin{figure}[H]
    \centering
    \begin{subfigure}[H]{.32\textwidth}
    \centering
      \includegraphics[width=1.0\linewidth]{#1}
      \caption{#2}
    \end{subfigure}
    \begin{subfigure}[H]{.32\textwidth}
      \centering
      \includegraphics[width=1.0\linewidth]{#3}
      \caption{#4}
    \end{subfigure}
    \begin{subfigure}[H]{.32\textwidth}
      \centering
      \includegraphics[width=1.0\linewidth]{#5}
      \caption{#6}
    \end{subfigure}
    \caption{#7}
  \end{figure}
}
\newcommand{\quadfig}[8]{
  \noindent
  \begin{minipage}{.249\textwidth}   
    \begin{figure}[H]
      \centering
      \includegraphics[width=1.0\linewidth]{#1}
      \caption{#2}
    \end{figure}
  \end{minipage}
  \begin{minipage}{.249\textwidth}
    \begin{figure}[H]
      \centering
      \includegraphics[width=1.0\linewidth]{#3}
      \caption{#4}
    \end{figure}
  \end{minipage}
  \begin{minipage}{.249\textwidth}
    \begin{figure}[H]
      \centering
      \includegraphics[width=1.0\linewidth]{#5}
      \caption{#6}
    \end{figure}
  \end{minipage}
  \begin{minipage}{.249\textwidth}
    \begin{figure}[H]
      \centering
      \includegraphics[width=1.0\linewidth]{#7}
      \caption{#8}
    \end{figure}
  \end{minipage}
  \medskip
}
\newcommand{\quadfigc}[9]{
  \noindent
  \begin{figure}[H]
    \centering
    \begin{subfigure}[H]{.49\textwidth}
    \centering
      \includegraphics[width=1.0\linewidth]{#1}
      \caption{#2}
    \end{subfigure}
    \begin{subfigure}[H]{.49\textwidth}
      \centering
      \includegraphics[width=1.0\linewidth]{#3}
      \caption{#4}
    \end{subfigure}
    \begin{subfigure}[H]{.49\textwidth}
      \centering
      \includegraphics[width=1.0\linewidth]{#5}
      \caption{#6}
    \end{subfigure}
    \begin{subfigure}[H]{.49\textwidth}
      \centering
      \includegraphics[width=1.0\linewidth]{#7}
      \caption{#8}
    \end{subfigure}
    \caption{#9}
  \end{figure}
}
\newcommand{\fig}[3]{
  \noindent
  \begin{figure}[H]
    \centering
    \includegraphics[width=#3\linewidth]{#1}
    \caption{#2}
  \end{figure}
}
\newcommand{\animfig}[3]{
  \begin{figure}[H]
    \begin{center}
      \animategraphics[width=\textwidth,loop,autoplay]{12}{#1}{0}{#2}
    \end{center}
    \caption{#2}
  \end{figure}
}
\newcommand{\wrapfig}[3]{
  \begin{wrapfigure}{r}{#3\textwidth}
    \vspace{-0.5cm}
    \begin{center}
      \includegraphics[width=#3\textwidth]{#1}
    \end{center}
    \vspace{-0.5cm}
    \caption{#2}
    \vspace{-0.5cm}
  \end{wrapfigure}
}
\newcommand{\texfig}[4]{
  \begin{figure}[H]
    \begin{center}
      \fontsize{#4}{1em}
      \resizebox{#3\linewidth}{!}{\input{#1}}
    \end{center}
    \caption{#2}
  \end{figure}
}
\newcommand{\dualtexfig}[6]{
  \noindent
  \begin{minipage}{.49\textwidth}   
    \begin{figure}[H]
      \begin{center}
        \fontsize{#3}{1em}
        \resizebox{\linewidth}{!}{\input{#1}}
      \end{center}
      \caption{#2}
    \end{figure}
    \noindent
  \end{minipage}
  \begin{minipage}{.49\textwidth}
    \begin{figure}[H]
      \begin{center}
        \fontsize{#6}{1em}
        \resizebox{\linewidth}{!}{\input{#4}}
      \end{center}
      \caption{#5}
    \end{figure}
  \end{minipage}
  \medskip
}
\newcommand{\dualtexfigc}[7]{
  \noindent
  \begin{figure}[H]
    \centering
    \begin{subfigure}[H]{.49\textwidth}
      \centering
      \fontsize{#3}{1em}
      \resizebox{\linewidth}{!}{\input{#1}}
      \caption{#2}
    \end{subfigure}
    \begin{subfigure}[H]{.49\textwidth}
      \centering
      \fontsize{#6}{1em}
      \resizebox{\linewidth}{!}{\input{#4}}
      \caption{#5}
    \end{subfigure}
    \caption{#7}
  \end{figure}
  \medskip
}

\newcommand{\urlfn}[1]{\footnote{\url{#1}}} % url as footnote

% characters
\newcommand{\tmu}{\ensuremath{\mu}}
\newcommand{\eps}{\varepsilon}

% math
\newcommand{\eint}[2]{\mathrel{ \substack{#2\\ \bigg /\\ #1}}} % definite integral
\newcommand{\vint}[2]{\bigg |_{#1}^{#2}} % definite integral, vertical bar
\newcommand{\ninfty}{{-\infty}} % negative infinity
\newcommand{\D}{\text{d}} % derivative
\newcommand{\BD}{\text{D}} % total derivative
\newcommand{\Dee}{\mathcal{D}} % derivative
\newcommand{\I}{\text{i}} % imaginary unit
\newcommand{\hc}{\dagger} % Hermitian conjugate
\newcommand{\vb}[1]{\bm{#1}} % vector bold
\newcommand{\hvb}[1]{\hat{\bm{#1}}} % unit vector bold
\DeclareMathOperator{\mln}{\overline{\ln}}
\DeclareMathOperator{\Ln}{\text{Ln}} % logarithm principal value
\DeclareMathOperator{\Arg}{\text{Arg}} % argument of complex
\DeclareMathOperator{\Res}{\text{Res}} % residual
\DeclareMathOperator{\Ind}{\text{Ind}} % winding number
\newcommand{\lb}{\left(} % left adaptive parenthesis
  \newcommand{\rb}{\right)} % right adaptive parenthesis
\newcommand{\lsb}{\left[} % left adaptive square bracket
  \newcommand{\rsb}{\right]} % right adaptive square bracket
\newcommand{\lcb}{\left\{} % left adaptive curly bracket
  \newcommand{\rcb}{\right\}} % right adaptive curly bracket
\newcommand{\lab}{\left \langle} % left adaptive angle bracket
  \newcommand{\rab}{\right \rangle} % right adaptive angle bracket
\DeclareMathOperator{\Imag}{\text{Im} } % imaginary part
\DeclareMathOperator{\Real}{\text{Re} } % real part
\newcommand{\ft}{\mathcal{F}} % fourier transform
\newcommand{\lt}{\mathcal{L}} % laplace transform
\newcommand{\pe}{\mathrel{+}=} % plus equals
\newcommand{\te}{\mathrel{*}=} % times equals
\newcommand{\T}{\x{T}} % transpose \intercal
\newcommand{\inv}{{-1}} % inverse
\newcommand{\finv}[1]{\frac{1}{#1}} % inverse as a fraction
\newcommand{\fraci}[2]{\frac{#2}{#1}} % invert a fraction
\DeclareMathOperator{\adj}{\x{adj}} % adjugate
\DeclareMathOperator{\Tr}{\x{Tr}} % trace
\DeclareMathOperator{\E}{\x{E}} % expectation value
\DeclareMathOperator{\V}{\x{V}} % variance
\DeclareMathOperator{\Prob}{\x{P}} % probability
\DeclareMathOperator{\cov}{\x{cov}} % covariance
\DeclareMathOperator{\erf}{\x{erf}} % error function
\DeclareMathOperator{\Ai}{\x{Ai}} % Airy function
\DeclareMathOperator{\W}{\x{W}} % Lambert W function
\newcommand{\mcom}{ \ \bigg| \ } % math comment
\newcommand{\dmax}{\x{diff}_\x{max}} % Kolmogorov-Smirnov distance
\newcommand{\ylm}{Y_\ell^m} % spherical harmonics
\DeclareMathOperator{\sech}{\x{sech}} % hyperbolic secant
\DeclareMathOperator{\csch}{\x{csch}} % hyperbolic cosecant
\DeclareMathOperator{\erfc}{\x{erfc}} % 1-erf
\DeclareMathOperator{\sign}{\x{sign}} % sign
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor} % floor and ceil operations
\DeclarePairedDelimiter\ceil{\lceil}{\rceil} % use \floor* to scale
\newcommand{\BO}{\mathcal{O}} % big O notation
\newenvironment{nalign}{ % no individual number aligned
  \begin{equation}
    \begin{aligned}
    }{
    \end{aligned}
  \end{equation}
  \ignorespacesafterend
}
\newcommand{\bna}{ \begin{nalign} \nonumber} % begin no number aligned
  \newcommand{\ena}{ \end{nalign} } % end no number aligned
\newcommand{\bpm}{\begin{pmatrix}} % begin pmatrix
  \newcommand{\epm}{\end{pmatrix}} % end pmatrix
\newcommand{\bbm}{\begin{bmatrix}} % begin bmatrix
  \newcommand{\ebm}{\end{bmatrix}} % end bmatrix
\newcommand{\bvm}{\begin{vmatrix}} % begin vmatrix
  \newcommand{\evm}{\end{vmatrix}} % end vmatrix
\newcommand{\be}{\begin{equation}} % begin equation
  \newcommand{\ee}{\end{equation}} % end equation
\newcommand{\bc}{\begin{cases}} % begin cases
  \newcommand{\ec}{\end{cases}} % end cases

% proof
% \@ifpackageloaded{amsthm}{
%   \@ifundefined{theorem}{
%     \newtheorem{theorem}{Theorem}
%     \theoremstyle{definition}
%     \newtheorem{definition}{Definition}[section]
%     \newtheorem{lemma}{Lemma}
%     \newtheorem{corollary}{Corollary}
%     \theoremstyle{remark}
%     \newtheorem*{remark}{Remark}
%   }
% }

% units
\newcommand{\us}[1]{ \ \text{#1}} % unit + space
\newcommand{\un}[1]{ \text{#1}} % unit
\newcommand{\up}[2]{\text{#1}^{#2}} % unit power
\newcommand{\usp}[2]{\ \text{#1}^{#2}} % unit power
\newcommand{\usf}[2]{ \ \frac{\text{#1}}{\text{#2}}} % fraction of units + space
\newcommand{\uf}[2]{ \frac{\text{#1}}{\text{#2}}} % fraction of units no space
\newcommand{\mic}{$\upmu$} % micron \usepackage{upgreek}
\newcommand{\degc}{^\circ\text{C}} % degree celsius
\newcommand{\degs}{^\circ} % degrees
\newcommand{\es}{\text{e}} % scientific notation
\newcommand{\tp}[1]{ \times 10^{#1}} % power of ten

% code
\@ifpackageloaded{listings}{
  \lstdefineformat{C}{
    \{=\newline\string\newline\indent,
    \}=[;]\newline\noindent\string\newline,
    \};=\newline\noindent\string\newline,
    ;=[\ ]\string\space}
  \lstdefineformat{C++}{
    \{=\newline\string\newline\indent,
    \}=[;]\newline\noindent\string\newline,
    \};=\newline\noindent\string\newline,
    ;=[\ ]\string\space}

  \lstset{
    numbers = left,
    framexleftmargin=10mm,
    frame=none,
    % backgroundcolor=\color[RGB]{245,245,245},
    keywordstyle=\bfseries\color{blue},
    identifierstyle=\bfseries,
    numberstyle=\color[RGB]{0,192,192},
    commentstyle=\it\color[RGB]{0,96,96},
    stringstyle=\rmfamily\slshape\color[RGB]{128,0,0},
    showstringspaces=true,
    breaklines=true,
    postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space}
  }
}

\newcommand{\cf}[1]{\texttt{#1}} % console font

% PHYSICS

\newcommand{\el}{\x{e}^-} % electron

% quantum operators
\newcommand{\ha}{\hat a}
\newcommand{\had}{\hat a^\dagger}
\newcommand{\hx}{\hat X}
\newcommand{\hh}{\hat H}
\newcommand{\hp}{\hat P}
\newcommand{\hu}{\hat U}
\newcommand{\hl}{\hat L}
\newcommand{\hlx}{\hat L_x}
\newcommand{\hly}{\hat L_y}
\newcommand{\hlz}{\hat L_z}
\newcommand{\hll}{\hat L_\pm}
\newcommand{\hlp}{\hat L_+}
\newcommand{\hlm}{\hat L_-}
\newcommand{\hs}{\hat S}
\newcommand{\hsx}{\hat S_x}
\newcommand{\hsy}{\hat S_y}
\newcommand{\hsz}{\hat S_z}
\newcommand{\hj}{\hat J}

% COMPUTING

% iteration
\newcommand{\ite}[1]{^{(#1)}}

